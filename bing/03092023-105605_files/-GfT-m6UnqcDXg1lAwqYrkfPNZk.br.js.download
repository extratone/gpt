var Feedback;(function(n){function s(n,t,u,f,s){var p="thumb_t"+t,w="thumb_f"+t,l=_ge(p),c=_ge(w),b="fdbk_emotion"+t,a=_ge(b),k="thumbUpTips"+t,d=_ge(k),g="fdbtext_"+t,nt=_ge(g),v,y;l&&sj_be(l,"click",function(){l.classList.add("active");o(!0,a);h(c,nt,d);e(!0,t,n,f,s)});c&&sj_be(c,"click",function(){c.classList.add("active");o(!1,a);e(!1,t,n,f,s)});a&&!r&&(r=!0,v=function(){var n=_d.querySelectorAll(".fdbk_emotion"),t,i,r;if(n&&n.length>0)for(t=0;t<n.length;t++)n[t].childElementCount||(i=document.createElement("img"),i.setAttribute("src","/th?id=OBFB.1B096C6DCB92C2B9A732929A92AF5585&pid=Fb&qlt=99&r=0"),i.classList.add("sat_img"),r=document.createElement("img"),r.setAttribute("src","/th?id=OBFB.1E928B2B86E3D4E8ED1D46B83E667303&pid=Fb&qlt=99&r=0"),r.classList.add("dsat_img"),n[t].appendChild(i),n[t].appendChild(r))},sj_evt.bind("onPP",v,!0,2e3));u&&!i&&(i=!0,y=function(){var i=_d.querySelectorAll(".thumb_n"),t,n;if(i&&i.length>0)for(n=0;n<i.length;n++)i[n].classList.add("thumb");if(t=_d.querySelectorAll(".thumb_y"),t&&t.length>0)for(n=0;n<t.length;n++)t[n].classList.add("thumb")},sj_evt.bind("onPP",y,!0,2e3))}function e(n,t,i,r,u){var s=sj_gx(),h="/customerfeedback/queue/full/submission",a="",v="",y="",p="",w="",c,b,k,o;if(_G&&(p=_G.IG,a=_G.EventID,c=_G.PN,b=typeof _G.V=="undefined"?_G.P:_G.V,y=typeof c!="undefined"?c:b),location&&location.search){var e=location.search,l=e.indexOf("q=")+2,f=e.indexOf("&",l);w=location.hostname;f=f!==-1?f:e.length;l<f&&(v=e.substring(l,f))}k={partner:r?r:"BingStructuredFeedback",feedbackType:"generic"+i+"Feedback",scenario:i,vertical:y,query:v,sentiment:n?"SAT":"DSAT",referrer:w,url:location.href,impressionGuid:p,traceId:a,customData:u?u:"",html:r=="BingLegacy"?_d.documentElement.outerHTML:""};o="&darkschemeovr=1";_w.location.href.indexOf(o)!=-1&&h.indexOf(o)==-1&&(h+=o);s.open("POST",h,!0);s.setRequestHeader("Content-Type","application/json");s.send(JSON.stringify(k));return}function o(n,t){if(t){t.classList.remove(u);t.classList.remove(f);var i=n?u:f;t.classList.add(i);setTimeout(function(){sj_evt.fire("fdbk_thmb_animationend")},1e3)}}function h(n,i,r){r&&(n.classList.add(t),i.classList.add(t),r.classList.remove(t))}var i=!1,r=!1,t="fdbk_hide",u="sat",f="dsat";n.Initialize=s})(Feedback||(Feedback={}))