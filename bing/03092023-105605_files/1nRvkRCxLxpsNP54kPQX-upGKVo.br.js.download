var SydFSCHelper;(function(n){function tt(r){var lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki,di,gi,nr,tr,ir,rr,ur,fr,er,or,sr,hr,cr,lr,ar,vr,yr,pr,wr,br,kr,dr,gr,nu,tu,iu,ru,uu,fu,eu,ou,su,hu,cu,lu,au,vu,yu,pu,wu,bu,ku,du,gu,nf,tf,rf,uf,ho,f,l,v,it,ut,c,ft,ef,sf,hf,cf,s,a,st,lf,af,et,ht,vf,y,ct,co,p,nt,lo,ao;r===void 0&&(r=null);n.isConfigSet=!0;var yf=t((lt=_w._sydConvConfig)===null||lt===void 0?void 0:lt.country,!1),pf=t((at=_w._sydConvConfig)===null||at===void 0?void 0:at.countryConfidence,!1),wf=t((vt=_w._sydConvConfig)===null||vt===void 0?void 0:vt.state,!1),bf=t((yt=_w._sydConvConfig)===null||yt===void 0?void 0:yt.city,!1),kf=t((pt=_w._sydConvConfig)===null||pt===void 0?void 0:pt.cityConfidence,!1),df=t((wt=_w._sydConvConfig)===null||wt===void 0?void 0:wt.zip,!1),gf=t((bt=_w._sydConvConfig)===null||bt===void 0?void 0:bt.timezoneoffset,!1),ne=t((kt=_w._sydConvConfig)===null||kt===void 0?void 0:kt.dma,!1),te=t((dt=_w._sydConvConfig)===null||dt===void 0?void 0:dt.lat,!1),ie=t((gt=_w._sydConvConfig)===null||gt===void 0?void 0:gt.long,!1),re=t((ni=_w._sydConvConfig)===null||ni===void 0?void 0:ni.noInitOpts,!1),vo=t((ti=_w._sydConvConfig)===null||ti===void 0?void 0:ti.overrideSydOptions,!1),tt=t((ii=_w._sydConvConfig)===null||ii===void 0?void 0:ii.sydOptionSets,!1),ue=t((ri=_w._sydConvConfig)===null||ri===void 0?void 0:ri.extraSappOptions,""),fe=t((ui=_w._sydConvConfig)===null||ui===void 0?void 0:ui.sydUrlPart,!1),yo=t((fi=_w._sydConvConfig)===null||fi===void 0?void 0:fi.removeDeepleo,!1),ff=t((ei=_w._sydConvConfig)===null||ei===void 0?void 0:ei.isSydCorpnet,!1),po=t((oi=_w._sydConvConfig)===null||oi===void 0?void 0:oi.enableSydOverlay,!1),wo=t((si=_w._sydConvConfig)===null||si===void 0?void 0:si.enableSydSuperAppIntegration,!1),bo=t((hi=_w._sydConvConfig)===null||hi===void 0?void 0:hi.enableEdgeMobileNativeTTS,!1),ko=t((ci=_w._sydConvConfig)===null||ci===void 0?void 0:ci.isVisualParityRun,!1),ee=t((li=_w._sydConvConfig)===null||li===void 0?void 0:li.sydBaseUrl,!1),go=t((ai=_w._sydConvConfig)===null||ai===void 0?void 0:ai.isCompliantSydneyEndpointEnabled,!1),oe=t((vi=_w._sydConvConfig)===null||vi===void 0?void 0:vi.sydIDs,""),se=t((yi=_w._sydConvConfig)===null||yi===void 0?void 0:yi.traceId,""),he=t(_w._sydConvTranslation,{}),ns=t((pi=_w._sydConvConfig)===null||pi===void 0?void 0:pi.enableSydMic,!1),ts=t((wi=_w._sydConvConfig)===null||wi===void 0?void 0:wi.enableSydShare,!1),is=t((bi=_w._sydConvConfig)===null||bi===void 0?void 0:bi.addDv3Opt,!1),rs=t((ki=_w._sydConvConfig)===null||ki===void 0?void 0:ki.addGenContentv3Opt,!1),us=t((di=_w._sydConvConfig)===null||di===void 0?void 0:di.enable161Feats,!0),fs=t((gi=_w._sydConvConfig)===null||gi===void 0?void 0:gi.enableAnsCardSuffix,!1),es=t((nr=_w._sydConvConfig)===null||nr===void 0?void 0:nr.removeDSAT,!0),ce=t((tr=_w._sydConvConfig)===null||tr===void 0?void 0:tr.enableErrorTelemetry,!1),le=t((ir=_w._sydConvConfig)===null||ir===void 0?void 0:ir.enableSpeechExperimentalFeatures,!1),ae=t((rr=_w._sydConvConfig)===null||rr===void 0?void 0:rr.enableSpeechChatDataAfterPhrase,!1),ve=t((ur=_w._sydConvConfig)===null||ur===void 0?void 0:ur.enableSpeechEarconOnInput,!1),ye=t((fr=_w._sydConvConfig)===null||fr===void 0?void 0:fr.enableSimpleVoiceInput,!1),pe=t((er=_w._sydConvConfig)===null||er===void 0?void 0:er.enableSpeechFateTTSStop,!1),we=t((or=_w._sydConvConfig)===null||or===void 0?void 0:or.enableSpeechGetUserMedia,!1),os=t((sr=_w._sydConvConfig)===null||sr===void 0?void 0:sr.enableSydCLOC,!1),ss=t((hr=_w._sydConvConfig)===null||hr===void 0?void 0:hr.enableCdxFeats,!1),be=t((cr=_w._sydConvConfig)===null||cr===void 0?void 0:cr.cdxFeats,""),uh=t((lr=_w._sydConvConfig)===null||lr===void 0?void 0:lr.enableSecureUpdateConversation,!1),fh=t((ar=_w._sydConvConfig)===null||ar===void 0?void 0:ar.enableSecureSendFeedback,!1),hs=t((vr=_w._sydConvConfig)===null||vr===void 0?void 0:vr.disableSecureUpdateConversation,!1),cs=t((yr=_w._sydConvConfig)===null||yr===void 0?void 0:yr.disableSecureSendFeedback,!1),ls=t((pr=_w._sydConvConfig)===null||pr===void 0?void 0:pr.enableToneCook,!1),as=t((wr=_w._sydConvConfig)===null||wr===void 0?void 0:wr.toneDefault,o),ke=t((br=_w._sydConvConfig)===null||br===void 0?void 0:br.balTone,""),de=t((kr=_w._sydConvConfig)===null||kr===void 0?void 0:kr.crtTone,""),ge=t((dr=_w._sydConvConfig)===null||dr===void 0?void 0:dr.prcTone,""),vs=t((gr=_w._sydConvConfig)===null||gr===void 0?void 0:gr.enableFdbkFinalized,!1),ys=t((nu=_w._sydConvConfig)===null||nu===void 0?void 0:nu.enableSemSerpShare,!1),ps=t((tu=_w._sydConvConfig)===null||tu===void 0?void 0:tu.enableCreatorShare,!1),ws=t((iu=_w._sydConvConfig)===null||iu===void 0?void 0:iu.enableDM,!1),no=t((ru=_w._sydConvConfig)===null||ru===void 0?void 0:ru.enableSydImageCreate,!1),bs=t((uu=_w._sydConvConfig)===null||uu===void 0?void 0:uu.enableSecureConnect,!0),ks=t((fu=_w._sydConvConfig)===null||fu===void 0?void 0:fu.enableShortOpt,!1),ds=t((eu=_w._sydConvConfig)===null||eu===void 0?void 0:eu.enableBalDefault,!1),gs=t((ou=_w._sydConvConfig)===null||ou===void 0?void 0:ou.enablePuidOvr,!1),to=t((su=_w._sydConvConfig)===null||su===void 0?void 0:su.enablePerfTrk,!1),io=t((hu=_w._sydConvConfig)===null||hu===void 0?void 0:hu.enableUnauthRedir,!1),ro=t((cu=_w._sydConvConfig)===null||cu===void 0?void 0:cu.enableSpeechErrorHandling,!1),uo=t((lu=_w._sydConvConfig)===null||lu===void 0?void 0:lu.enableSpeechAriaLabel,!1),fo=t((au=_w._sydConvConfig)===null||au===void 0?void 0:au.enableSpeechReopenMic,!1),nh=t((vu=_w._sydConvConfig)===null||vu===void 0?void 0:vu.enableNewTopicAutoExpand,!1),th=t((yu=_w._sydConvConfig)===null||yu===void 0?void 0:yu.enableMaxTurnsPerConversation,!1),ih=t((pu=_w._sydConvConfig)===null||pu===void 0?void 0:pu.enableAdSlugsDesktop,!1),rh=t((wu=_w._sydConvConfig)===null||wu===void 0?void 0:wu.enableAdSlugsMobile,!1),eo=t((bu=_w._sydConvConfig)===null||bu===void 0?void 0:bu.sydBalOpts,""),oo=t((ku=_w._sydConvConfig)===null||ku===void 0?void 0:ku.sydCrtOpts,""),so=t((du=_w._sydConvConfig)===null||du===void 0?void 0:du.sydPrcOpts,"");for(eo&&(u.Balanced=eo.split(",")),oo&&(u.Creative=oo.split(",")),so&&(u.Precise=so.split(",")),ke&&(i[o]=ke),de&&(i[k]=de),ge&&(i[d]=ge),ho=_ge("cib-design-tokens"),ho||CIB.activateDesignTokens(),f={},yf&&(f.country=yf),wf&&(f.state=wf),bf&&(f.city=bf),df&&(f.zipcode=df),gf&&(f.timezoneoffset=parseFloat(gf)),ne&&(f.dma=ne),te&&(f.latitude=parseFloat(te)),ie&&(f.longitude=parseFloat(ie)),pf&&(f.countryConfidence=pf),kf&&(f.cityConfidence=kf),l=[],r?(r.cookLoc.userLoc&&(v=h(r.cookLoc.userLoc,!1),v.RegionType=1,v.SourceType=2,v.FDConfidence=1,l.push(v)),r.cookLoc.deviceLoc&&(it=h(r.cookLoc.deviceLoc,!1),it.RegionType=2,it.SourceType=5,l.push(it)),os&&r.cookLoc.coarseLoc&&(ut=h(r.cookLoc.coarseLoc,!1),ut.RegionType=2,ut.SourceType=11,l.push(ut)),c=f,c.Center={Latitude:c.latitude,Longitude:c.longitude},delete c.latitude,delete c.longitude,c.RegionType=2,c.SourceType=1,l.push(c),CIB.config.sydney.message.locationHints=l):CIB.config.sydney.message.locationinfo=f,CIB.config.sydney.message.timestamp=ot(),ft=0,ef=Object.keys(he);ft<ef.length;ft++)sf=ef[ft],CIB.config.strings[sf]=he[sf];if(ls?rt(as):ds&&CIB.config.sydney.request.optionsSets.push(i[o]),hf=new URLSearchParams(_w.location.search.toLowerCase()),cf=hf.get(w.toLowerCase()),(re||tt!=""||ff&&cf||ue)&&(s=re?[]:CIB.config.sydney.request.optionsSets,s=e(s,tt),ff&&(s=e(s,cf)),s=e(s,ue),yo&&(a=s.indexOf("deepleo"),a>=0&&s.splice(a,1)),CIB.config.sydney.request.optionsSets=s),es&&(a=CIB.config.sydney.request.optionsSets.indexOf("enable_debug_commands"),a>=0&&CIB.config.sydney.request.optionsSets.splice(a,1)),is&&CIB.config.sydney.request.optionsSets.push("dv3sugg"),rs&&CIB.config.sydney.request.optionsSets.push("gencontentv3"),ks&&CIB.config.sydney.request.optionsSets.push("prodshortv4"),vo&&tt!=""&&(CIB.config.sydney.request.optionsSets=e([],tt)),ss){if(be)for(et=be.split(","),st=0,lf=et;st<lf.length;st++)y=lf[st],CIB.config.features[y]=!0;if(af=hf.get(b.toLowerCase()),ff&&af)for(et=af.split(","),ht=0,vf=et;ht<vf.length;ht++)y=vf[ht],y.indexOf(":")>=0&&(ct=y.split(":"),ct.length==2&&(CIB.config.features[ct[0]]=ct[1]))}oe&&(co=oe.split(","),CIB.config.sydney.request.sliceIds=co);CIB.config.bing.isVisualParityRun=ko;ee&&(CIB.config.sydney.baseUrl=ee);go&&(p=(gu=localStorage.MSBLS_bfbSydneyToken)===null||gu===void 0?void 0:gu.split(";",2),nt=(nf=localStorage.MSBLS_bfbSubstrateToken)===null||nf===void 0?void 0:nf.split(";",2),(p===null||p===void 0?void 0:p.length)>1&&(nt===null||nt===void 0?void 0:nt.length)>1&&(lo=(tf=JSON.parse(p[1]))===null||tf===void 0?void 0:tf.token,ao=(rf=JSON.parse(nt[1]))===null||rf===void 0?void 0:rf.token,CIB.config.sydney.pathChatHub="/SecuredChatHub?X-ModelProvider=DeepLeo&access_token=".concat(lo,"&X-SubstrateSearchToken=").concat(ao)));fe!=""&&(CIB.config.sydney.pathBase=fe);le&&(CIB.config.features.enableSpeechExperimental=le);ae&&(CIB.config.features.enableSpeechChatDataAfterPhrase=ae);ve&&(CIB.config.features.enableSpeechEarconOnInput=ve);ye&&(CIB.config.features.enableSimpleVoiceInput=ye);pe&&(CIB.config.features.enableSpeechFateTTSStop=pe);we&&(CIB.config.features.enableSpeechGetUserMedia=we);ro&&(CIB.config.features.enableSpeechErrorHandling=ro);uo&&(CIB.config.features.enableSpeechAriaLabel=uo);fo&&(CIB.config.features.enableSpeechReopenMic=fo);wo&&(CIB.config.speech.micPermissionProvider=SydneySuperAppConnector.getMicPermission,CIB.config.sydney.shareConversationProvider=SydneySuperAppConnector.shareConversation,CIB.config.greeting.shouldSendBotGreeting=SydneySuperAppConnector.ShouldGreet(),CIB.config.features.enableTTSOnVoiceInput=SydneySuperAppConnector.ShouldUseTTS(),CIB.config.features.enableShareConversation=!0,CIB.config.speech.textToSpeechProvider=SydneySuperAppConnector.getTextToSpeechProvider,CIB.config.sydney.copyToClipboardProvider=SydneySuperAppConnector.copyToClipboard,CIB.config.features.enableUpdateInternalLinksToOpenOnEdge=SydneySuperAppConnector.ShouldOpenLinksOnEdge(),CIB.config.features.enableTextShare=!0,CIB.config.sydney.shareTextProvider=SydneySuperAppConnector.shareText);bo&&(CIB.config.speech.textToSpeechProvider=SydneySuperAppConnector.getTextToSpeechProvider);po&&(CIB.config.features.enableMetaMessages=!1,CIB.config.features.enableLearnMore=!1,CIB.config.features.enableCitations=!1,CIB.config.features.enableWelcomeScreen=!1,CIB.config.features.enableShare=!1,CIB.config.features.enableStopButton=!1,CIB.config.features.enableAnswerCards=!1,CIB.config.features.enableAds=!1);se&&(CIB.config.sydney.request.traceId=se);CIB.config.features.enableSpeechInput=ns;CIB.config.features.enableShare=ts;us&&(CIB.config.features.enableErrorStateNotification=!0,CIB.config.features.enableErrorStateToastNotificationResetButton=!0,CIB.config.features.enableGhostedAutoSuggest=!0,CIB.config.features.enableHoverCardAttributionFavicons=!0);ce&&(CIB.config.features.enableErrorInstrumentaton=ce);no&&(CIB.config.features.enableSydImageCreate=no);fs&&(CIB.config.features.enableAnsCardSfx=!0);CIB.config.features.enableSecureUpdateConversation=!hs;CIB.config.features.enableSecureSendFeedback=!cs;CIB.config.features.enableShareSemSerp=ys;CIB.config.features.enableShareCreator=ps;CIB.config.features.enableFeedbackOnFinalized=vs;ws&&CIB.changeColorScheme&&CIB.changeColorScheme(1);CIB.config.features.secureConversation=bs;nh&&(CIB.config.features.enableNewTopicAutoExpand=!0);th&&(CIB.config.features.enableMaxTurnsPerConversation=!0,CIB.config.messaging.maxTurnsPerConversation=t((uf=_w._sydConvConfig)===null||uf===void 0?void 0:uf.maxTurnsPerConversation,g));ih&&(CIB.config.features.enableAdSlugsDesktop=!0);rh&&(CIB.config.features.enableAdSlugsMobile=!0);gs&&(CIB.config.sydney.request.Participant={Id:"1"});to&&(CIB.config.features.enablePerfTracker=to);io&&(CIB.config.features.enableRedirectToLoginUrl=io)}function it(){var t,i=_w.BingAtWork,u=_ge("b_header"),o=(t=i===null||i===void 0?void 0:i.context)===null||t===void 0?void 0:t.tenantId,s="MSBLS_bfbTenantSettings".concat(o),f=localStorage.getItem(s),r,n;if(u&&f&&(r=f.split(";",2),n=r.length>1&&JSON.parse(r[1]),n&&n.tenantSettings)){var h=n.tenantSettings.iconLarge,c=et(h),e=sj_ce("img","bfbTenantLogoId","bfbTenantLogoCls");e.src=c;u.appendChild(e)}}function rt(n){var u,r;if(CIB.config.features.enableResponseToneSelector=!0,CIB.config.sydney.responseToneOptions=Object.keys(i),CIB.config.features.enablePersistentResponseToneSelector=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enablePersistentToneSelector,!1),CIB.config.features.enableResponseToneColorThemes=!0,r=sj_cook.get(c,l),r!=null&&i.hasOwnProperty(r)?CIB.responseTone=r:(CIB.responseTone=n,r=n),i.hasOwnProperty(r)&&(CIB.config.sydney.request.optionsSets.push(i[r]),CIB.config.sydney.request.optionsSets=a(CIB.config.sydney.request.optionsSets,r),s=r),CIB.onResponseToneChanged)CIB.onResponseToneChanged(function(n){if(sj_cook.set(c,l,n,!0,"/",null),i.hasOwnProperty(n)){var t=ft(CIB.config.sydney.request.optionsSets,Object.keys(i));CIB.config.sydney.request.optionsSets[t]=i[n];CIB.config.sydney.request.optionsSets=a(CIB.config.sydney.request.optionsSets,n,s);s=n}})}function a(n,t,i){return i===void 0&&(i=""),i!=""&&u.hasOwnProperty(i)&&(n=ut(n,u[i])),t!=""&&u.hasOwnProperty(t)&&u[t].forEach(function(t){n.push(t)}),n}function ut(n,t){return t.forEach(function(t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}),n}function ft(n,t){for(var f,u,r=0;r<t.length;r++)if(f=t[r],u=n.indexOf(i[f]),u>=0)return u;return-1}function h(n,t){var i={};return t?n.locType&&(i.LocationType=n.locType):n.accuracy&&(i.Accuracy=n.accuracy),n.state&&(i.State=decodeURI(n.state)),n.city&&(i.City=decodeURI(n.city)),n.lat&&n.long&&(i.Center={Latitude:parseFloat(n.lat),Longitude:parseFloat(n.long)}),n.source&&(i.LocationSource=n.source),n.altitude&&(i.Altitude=n.altitude),n.altitudeAcc&&(i.AltitudeAccuracy=n.altitudeAcc),n.displayName&&(i.DisplayName=n.displayName),n.name&&(i.Name=n.name),n.heading&&(i.Heading=n.heading),n.isValidLocation&&(i.IsValidLocation=n.isValidLocation),n.range&&(i.Radius=n.range),n.speed&&(i.Speed=n.speed),n.ts&&(i.Timestamp=n.ts),n.ets&&(i.ExpiryTimestamp=n.ets),i}function et(n){try{if(n==="")return"";var t=atob(n),i=t.indexOf("<svg")>0||t.indexOf("<?xml")>0,r=i?"svg+xml":"jpeg";return"data:image/".concat(r,";base64,").concat(n)}catch(f){return""}}function ot(){var t=(new Date).getTimezoneOffset(),u=Math.floor(Math.abs(t/60)),f=Math.abs(t%60),i;t<0?i="+"+r(u)+":"+r(f):t>0?i="-"+r(u)+":"+r(f):t==0&&(i="Z");var n=new Date,e=n.getDate(),o=n.getMonth()+1,s=n.getFullYear(),h=n.getHours(),c=n.getMinutes(),l=n.getSeconds();return r(s)+"-"+r(o)+"-"+r(e)+"T"+r(h)+":"+r(c)+":"+r(l)+i}function r(n){return n<10?"0"+n:n}function e(n,t){if(t){var i=t.split(",");return n.concat(i)}return n}function t(n,t){return typeof n!="undefined"?n:t}function v(n,t,i,r){Log.Log(n,"Codex",t,!1,"Namespace",i,"CustomData",JSON.stringify(r))}function st(n,t,i){v("InteractionEvent",n,t,i)}function ht(){history&&sj_be(_w,"popstate",function(t){var i,r;((i=t===null||t===void 0?void 0:t.state)===null||i===void 0?void 0:i.inConvMode)&&_G[n.SYD_MODE]=="serp"?sj_evt.fire("showSydFSC",null,null,!1,!0):((r=t===null||t===void 0?void 0:t.state)===null||r===void 0?void 0:r.inConvMode)||_G[n.SYD_MODE]!="conversation"||sj_evt.fire("hideSydFSC",!0)})}function ct(n){history&&history.pushState({inConvMode:n},"conv")}function lt(){var t,n;((t=history===null||history===void 0?void 0:history.state)===null||t===void 0?void 0:t.inConvMode)&&(n=_ge("sb_form_q"),n&&n.value?sj_evt.fire("showSydFSC",n.value):sj_evt.fire("showSydFSC"))}function at(){var i,r,o=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTigerAns,!1),s=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydAjaxReset,!1),f,e,u;CIB.onModeChanged(function(t){switch(t){case"conversation":sj_evt.fire("showSydFSC");break;case"off-stage":if(n.ignoreFirstOffStage){n.ignoreFirstOffStage=!1;CIB.showConversation();break}sj_evt.fire("hideSydFSC");break;default:Log.Log("ClientInst","Codex","ModeChangeError",!1,"CustomData",JSON.stringify({mode:t}))}});if(o&&(f=_ge("b_sydTigerCont"),f)){e=_d.querySelector("#b_pole #b_sydTigerCont")!=null;CIB.onSerpSlotSuggestionInvoked(function(){_G[n.SYD_MODE]!="conversation"&&(n.LogIntEvent("ConversationViewEnter",e?"Pole":"RightRail",{source:"ChatBubble"}),sj_evt.fire("showSydFSC"))});u=_ge("sb_form_q");u&&(CIB.config.sydney.slottedModeTurnIndex=0,n.lastQuery=u.value.toLowerCase().trim())}s&&sj_evt.bind("ajax.unload",function(){var n,t,i,r,u,f,e,o,s,h,c;CIB&&(c=(t=(n=CIB===null||CIB===void 0?void 0:CIB.config)===null||n===void 0?void 0:n.greeting)===null||t===void 0?void 0:t.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,(u=(r=(i=CIB===null||CIB===void 0?void 0:CIB.manager)===null||i===void 0?void 0:i.stream)===null||r===void 0?void 0:r.subscription)===null||u===void 0?void 0:u.dispose(),(e=(f=CIB===null||CIB===void 0?void 0:CIB.manager)===null||f===void 0?void 0:f.stream)===null||e===void 0?void 0:e.complete(),(s=(o=CIB===null||CIB===void 0?void 0:CIB.manager)===null||o===void 0?void 0:o.stream)===null||s===void 0?void 0:s.finalizeStreamSubscription(),(h=CIB===null||CIB===void 0?void 0:CIB.manager)===null||h===void 0?void 0:h.resetConversation(),CIB.config.greeting.shouldSendBotGreeting=c)})}function vt(){var i,r,u,h=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTestCache,!1),f=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.sydTestCacheMsg,""),c=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableTigerCachedAttr,!1),e,o,s;h&&(f&&f.indexOf('{"messages":')==0&&(e=JSON.parse(f),e.messages&&(c&&(CIB.config.messaging.streamCachedResponses=!1,o=_d.querySelector("#b_sydTigerCont cib-serp"),o&&o.setAttribute("cached","")),CIB.processCachedResponse(e))),s=_ge("sb_form_q"),s&&(CIB.config.sydney.slottedModeTurnIndex=0,n.lastQuery=s.value.toLowerCase().trim()))}function y(n,t,i,r,u,f,e){n===void 0&&(n="");t===void 0&&(t="");i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);e===void 0&&(e=!1);sj_evt.fire("showSydFSC",n,t,r,u,i,f,e)}function f(){var n,i=typeof sj_b!="undefined"&&sj_b!=null?sj_b:_d.body,t=i.querySelectorAll("textarea.b_searchbox, input.b_searchbox:not(#uaseabox)");return!t||t.length<=0?null:(n=t[0])===null||n===void 0?void 0:n.getAttribute("value")}function yt(){var t=new URLSearchParams(_w.location.search),i=t.get(nt);i&&(n.lastQuery=f().toLowerCase().trim())}function p(n,t,i,r,u,e){var s,o,h;t===void 0&&(t=!1);i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);e===void 0&&(e=!1);s="";t&&(s=f());o=i;o||(h=_d.querySelector(".b_ans #b_wpt_data"),h&&(o=h.getAttribute("data-sydctx")));y(n,o,s,r,!1,u,e)}function pt(n,t){n===void 0&&(n="");t===void 0&&(t="");var i=f();p(i,!1,n,t,!1,!0)}function wt(t){n.isSydFSCEligible=t}function bt(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t]}function kt(){sj_evt.fire("clarity.trigger","cibChat")}function dt(n,t,i){return!n||t&&(!i||i.toLowerCase().trim()!==f().toLowerCase().trim())}function gt(n,i,r){var f,e,o,s,h,c,l,a,u=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.Syd2TFlights,"");((o=(e=CIB.config)===null||e===void 0?void 0:e.answers)===null||o===void 0?void 0:o.query)&&(CIB.config.answers.query.IG=_G.IG,CIB.config.answers.query.IID=(s=_ge("b_sydConvCont"))===null||s===void 0?void 0:s.getAttribute("_iid"),CIB.config.answers.query.cw=n,CIB.config.answers.query.ch=i,u!==""&&(CIB.config.answers.query.features=u));((c=(h=CIB.config)===null||h===void 0?void 0:h.ads)===null||c===void 0?void 0:c.query)&&(CIB.config.ads.query.IG=_G.IG,CIB.config.ads.query.IID=r?(l=_ge("CodexAdsInstLink"))===null||l===void 0?void 0:l.getAttribute("_iid"):(a=_ge("b_sydConvCont"))===null||a===void 0?void 0:a.getAttribute("_iid"),CIB.config.ads.query.cw=n,CIB.config.ads.query.ch=i,u!==""&&(CIB.config.ads.query.features=u),CIB.config.ads.query.form="codexx")}var w="sydneyOptionsSets",b="codexFeatures",k="Creative",o="Balanced",d="Precise",g=5;n.SYD_MODE="SydMode";n.SYD_PREV_MODE="SydPrevMode";n.lastQuery=(n===null||n===void 0?void 0:n.lastQuery)?n===null||n===void 0?void 0:n.lastQuery:"";n.ignoreFirstOffStage=!1;var nt="shareId",c="SRCHHPGUSR",l="cdxtone",i={Creative:"h3imaginative",Balanced:"harmonyv3",Precise:"h3precise"},u={Creative:[],Balanced:[],Precise:[]},s="";n.isSydFSCEligible=n.isSydFSCEligible?n.isSydFSCEligible:!1;n.isConfigSet=!1;n.setConfigs=tt;n.addTenantLogoToHeader=it;n.getConfigOrDefault=t;n.SydLog=v;n.LogIntEvent=st;n.setupHistory=ht;n.pushSydHistory=ct;n.checkInitialState=lt;n.setEventListeners=at;n.setForceCache=vt;n.triggerSydFSC=y;n.getQuery=f;n.triggerShareFlow=yt;n.triggerSydFSCWithContext=p;n.triggerSydFSCQueryWithContext=pt;n.setSydFSCEligibleState=wt;n.sydPayWallTrace=bt;n.triggerClarity=kt;n.shouldMove1TAnswers=dt;n.set2TQueryConfigs=gt;sj_evt.fire("SydFSCHelperLoaded")})(SydFSCHelper||(SydFSCHelper={}))