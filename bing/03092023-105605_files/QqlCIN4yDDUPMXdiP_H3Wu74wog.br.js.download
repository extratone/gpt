var __spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},IDBbOv,IFrameOverlay;(function(n){function g(n){t.src?t.contentWindow.location.replace(n):t.src=n}function ft(){var n=_w.IDPTit;n&&(t.setAttribute("title",n),t.setAttribute("name",n))}function p(n){a=n?lt:null}function nt(n){v.parentElement.style.overflow=n?"":"hidden"}function h(n){t.style.display=n?"block":"none"}function w(){var n=st(t);n&&PageEvents.logUnload("back",n);p(!1);pt();et();y||(r||(r=nt),r(!0));h(!1);ot();window.focus();i=!1;sj_ue(_d,"keyup",tt);sj_ue(_w,"click",rt);f&&sessionStorage.removeItem(s)}function et(){g(e);t.setAttribute("name",u)}function ot(){sj_evt.fire("IFrame.Close")}function st(n){try{return n.contentWindow._G.IG}catch(t){return null}}function ht(n,t){var r={type:b,url:n,hiddenParams:t,count:0},i;k?(i=n+"&ajaxhist=0&ajaxserp=0",l.pushState(r,"",i)):_w.location.hash=c+n+t}function ct(){var i=!1,r=_ge(u);return r!=null?(t=r,i=!0):(t=sj_ce("iframe",u,"insightsOverlay"),t.setAttribute("data-tag","multimedia.iframeOverlay"),t.setAttribute("name",u),h(!1)),t.onload=function(){n.showFrame();var t=this;(t.src!==e||t.contentWindow&&t.contentWindow.location.href!==e)&&at()},t.src=e,i||v.appendChild(t),t}function tt(n){t&&i&&!t.contains(n.target)&&(sj_sp(n),sj_pd(n),t.focus())}function lt(){h(!0)}function at(){var n=_ge(u);n.contentWindow?n.contentWindow.focus():n.focus()}function vt(){o=sj_ce("div",ut)}function yt(){var n=_ge("b_content")||v;n.insertBefore(o,n.firstChild)}function pt(){var n=o.parentElement;n&&n.removeChild(o)}function it(){var n=_w.location.hash;return n&&n.indexOf(c)===0?n.substr(c.length):null}function wt(){var t=it();t&&(location.replace("#"),n.show(t,!0,""))}function bt(){return f=typeof IDBbOv!="undefined"&&IDBbOv,vt(),ct(),kt(),wt(),!0}function kt(){k?d.bind(_w,"popstate",gt,!1):d.bind(_w,"hashchange",dt,!1);f&&sj_be(_w,"message",ni,!0)}function dt(){var t=it();t&&!i?n.show(t,!0,""):!t&&i&&w()}function gt(r){if(r.state&&r.state.url&&r.state.type===b){var e=sessionStorage.getItem(s),u=r.state.count;f&&i&&typeof u!="undefined"&&typeof MMMessenger!="undefined"?u<parseInt(e)?(sessionStorage.setItem(s,u.toString()),MMMessenger.Post(t.contentWindow,"mm.goPrevious","")):MMMessenger.Post(t.contentWindow,"mm.goNext",""):n.show(r.state.url,!1,r.state.hiddenParams)}else i&&(w(),sj_evt.fire("ajax.state.update",_w.location.href))}function rt(n){if(n&&n.target&&i){var r=n.target;t.contains(r)||typeof MMMessenger!="undefined"&&MMMessenger.Post(t.contentWindow,"mm.prepareClose","")}}function ni(n){var t=typeof MMMessenger!="undefined"?MMMessenger.GetMessageData(n):null;t&&typeof t.data=="number"&&t.command==="mm.closeIFrame"&&l.go(-t.data);t&&(t.command==="onFavDel"||t.command==="onFavAdd")&&sj_evt.fire.apply(sj_evt,__spreadArray([t.command],t.data,!1))}function ti(n){var r,u,f,i,t,e;return n?(r=sj_ce("a"),r.href=n,u=_w.location,f=r.hostname,f&&f!=u.hostname)?null:(i="",t=r.pathname,t&&t.indexOf("/")!=0&&(t="/"+t),(i||t!=u.pathname)&&(i+=t),e=r.search,(i||e!=u.search)&&(i+=e),i):null}function ii(n){if(!n)return null;var t=sj_ce("a");return t.href=n,t.hash}var b="OverlayShow",u="OverlayIFrame",ut="OverlayMask",e="about:blank",c="#!",l=window.history,k=l.pushState?!0:!1,o,t,f=!1,i=!1,a=null,v=_d.body,d=SmartEvent,s="mm.idpstate",y=!1,r=null;n.show=n.show||function(n,t,u,e){var o,c;e===void 0&&(e=!1);o=ti(n);y=_w.dOSBVC;typeof o=="string"&&o.length>0&&(c=o,u&&(c=o+u),i||(i=!0,yt(),sj_evt.fire("IFrame.Show"),e||g(c+ii(n)),ft(),y||(r||(r=nt),r(!1)),p(!0),sj_be(_d,"keyup",tt),sb_ie||h(!0),t&&(ht(o,u),f&&sessionStorage.setItem(s,"0")),sj_be(_w,"click",rt)))};n.showFrame=n.showFrame||function(){a&&(a(),p(!1))};n.closeIFrame=n.closeIFrame||function(){w()};n.setWindowScrollbarVisibilityOverride=n.setWindowScrollbarVisibilityOverride||function(n){r=n};n._i=n._i||bt()})(IFrameOverlay||(IFrameOverlay={}))