var RelatedPageRecommendationsClickback;(function(){function v(){var o,h,l,a,v,b,s;try{if(o=null,typeof rprData!="undefined"&&rprData)o=rprData.InsertId,f=rprData.IsInstrumentation;else{RPRShared.cLog(n,t,"RenderDataNotAvailable");return}if(h=RPRShared.isSessionStorageSupported()&&RPRShared.isPerformanceNavigationSupported(),l=g(r),typeof _w!="undefined"&&h&&(a=sessionStorage.getItem(i),a&&nt()&&(u.lastLinkClicked=a,c(o,u),RPRShared.cLog(n,t,"QuickbackTriggered")),sessionStorage.removeItem(i)),typeof _w!="undefined"&&l&&sj_be(_d,r.visibilityChangedEventName,function(){return p(o,u)}),h||l)for(v=_ge(e).children,b=function(n){var t=v.item(n),i;w(t)&&(i=RPRShared.getLinkHref(t),i&&sj_be(t,"click",function(n){return!y(n)&&k(u,i)}))},s=0;s<v.length;s++)b(s);else RPRShared.cLog(n,t,"NoClickbackTriggerSupported")}catch(d){RPRShared.cLog(n,t,d?d.message:"Unknown Error")}}function y(n){var t,i;if(n===null||n===void 0?void 0:n.currentTarget)for(t=n.target;t&&t!==n.currentTarget;){for(i=0;i<h.length;i++)if(Lib.CssClass.contains(t,h[i]))return!0;t=t.parentElement}return!1}function p(u,f){try{var o=_d[r.hiddenProperty];f.lastLinkClicked&&(o?(RPRShared.cLog(n,t,"NewTabLoadTriggered"),c(u,f)):(RPRShared.cLog(n,t,"RevisitTriggered"),l(f),sessionStorage.removeItem(i)))}catch(e){RPRShared.cLog(n,t,e?e.message:"Unknown Error")}}function c(i,r){var s,h,c,e=r.lastLinkClicked,o,a,f,u,v;if(!((s=e===null||e===void 0?void 0:e.trim())===null||s===void 0?void 0:s.length)){RPRShared.cLog(n,t,"EmptyUrlDetected");return}if(o=RPRShared.getQuery(),!((h=o===null||o===void 0?void 0:o.trim())===null||h===void 0?void 0:h.length)){RPRShared.cLog(n,t,"EmptyQueryDetected");return}if(a=RPRShared.getContainerWidth(n,t),!a){RPRShared.cLog(n,t,"CouldNotGetContainerWidth");return}(f=r.linkStates[e]=(c=r.linkStates[e])!==null&&c!==void 0?c:{state:0,recommendationsHtml:undefined},f.state===0)&&(f.state=1,u=sj_gx(),u.onreadystatechange=function(){try{u.readyState===4&&u.status===200?(f.state=2,f.recommendationsHtml=u.responseText,l(r)):u.readyState===4&&u.status===204?f.state=2:(f.state=3,RPRShared.cLog(n,t,"AsyncLoadError - Status: ".concat(u.status," ").concat(u.statusText)))}catch(i){RPRShared.cLog(n,t,i?i.message:"Unknown Error")}},u.open("POST","/relatedPageRecommendations?IID=".concat(i,"&IG=").concat(_G.IG),!0),u.setRequestHeader("content-type","application/json"),u.timeout=1e4,v={url:e,query:o,containerWidth:a,pageSize:rprData.PageSize},u.send(JSON.stringify(v)))}function l(i){var v,c,y,p,w,k,d,g,u,nt,h,a,rt,r;if(!b(i))return!1;u=i.lastLinkClicked;nt=i.linkStates[u];i.lastLinkClicked=undefined;var it=_ge(e),tt=it.children,l=-1;for(h=0;h<it.children.length;h++)if(a=RPRShared.getChildLink(tt[h]),(u===null||u===void 0?void 0:u.length)&&(a===null||a===void 0?void 0:a.getAttribute("href"))===u){l=h;break}if(l!==-1){if(rt=tt[l],f)RPRShared.cLog(n,"ClickbackAddedInst","");else{if(sj_appHTML(rt,nt.recommendationsHtml),(v=rprData.CB)===null||v===void 0?void 0:v.ClickbackAnimationEnabled){if(r=(p=(y=(c=tt[l])===null||c===void 0?void 0:c.getElementsByClassName)===null||y===void 0?void 0:y.call(c,o))===null||p===void 0?void 0:p[0],!r)return;sb_ie||!RPRShared.detectCSSFeature("transition")?(RPRShared.runJsAnimation(r,(k=(w=rprData.CB)===null||w===void 0?void 0:w.ContainerHeight)!==null&&k!==void 0?k:s),Lib.CssClass.remove(r,"pagereco_anim")):(r.offsetHeight,r.style.opacity="1.0",r.style.maxHeight="".concat((g=(d=rprData.CB)===null||d===void 0?void 0:d.ContainerHeight)!==null&&g!==void 0?g:s,"px"));RPRShared.cLog(n,"ClickbackAnimStarted","")}RPRShared.cLog(n,"ClickbackAdded","")}return RPRShared.cLog(n,t,"InsertedRecommendations"),RPRShared.addDwellTimeLogging(n,t),nt.recommendationsHtml=undefined,typeof rms=="undefined"||f||rms.start(),!0}return!1}function w(n){var t;return((t=n===null||n===void 0?void 0:n.className)===null||t===void 0?void 0:t.indexOf(a))>=0&&n.getElementsByClassName(o).length===0}function b(n){var t=n.linkStates[n.lastLinkClicked];return!_d[r.hiddenProperty]&&Boolean(t===null||t===void 0?void 0:t.recommendationsHtml)&&t.state===2}function k(n,t){(t===null||t===void 0?void 0:t.length)&&!n.linkStates[t]?(n.lastLinkClicked=t,RPRShared.trySetSessionStorageItem(i,n.lastLinkClicked)||(n.lastLinkClicked=undefined)):n.lastLinkClicked=undefined}function d(){var i=undefined,r=undefined,t,n;if("hidden"in _d)i="hidden",r="visibilitychange";else for(t=["webkit","moz","ms","o"],n=0;n<t.length;n++)if(t[n]+"Hidden"in _d){i=t[n]+"Hidden";r=t[n]+"visibilitychange";break}return{hiddenProperty:i,visibilityChangedEventName:r}}function g(n){return!!(n&&n.hiddenProperty&&n.visibilityChangedEventName)}function nt(){var n,t,i,r,u;return"performance"in _w&&(((r=(i=(t=(n=_w.performance)===null||n===void 0?void 0:n.getEntriesByType)===null||t===void 0?void 0:t.call(n,"navigation"))===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.type)==="back_forward"||((u=_w.performance.navigation)===null||u===void 0?void 0:u.type)&&_w.performance.navigation.type===_w.performance.navigation.TYPE_BACK_FORWARD)}var i="qbClickedIdx",n="RPR.CB",t="ClickbackLog",e="b_results",a="b_algo",o="scs_child_rpr",s=199,h=["scs_exp","scs_iec"],f=!1,r=d(),u={lastLinkClicked:undefined,linkStates:{}};v();_w.sj_evt&&sj_evt.fire("rpr_cb_load_init")})(RelatedPageRecommendationsClickback||(RelatedPageRecommendationsClickback={}))